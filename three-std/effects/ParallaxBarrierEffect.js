!function(){var e,t;e=this,t=function(e,t){"use strict";e.ParallaxBarrierEffect=class{constructor(e){const r=new t.OrthographicCamera(-1,1,1,-1,0,1),a=new t.Scene,n=new t.StereoCamera,i={minFilter:t.LinearFilter,magFilter:t.NearestFilter,format:t.RGBAFormat},o=new t.WebGLRenderTarget(512,512,i),l=new t.WebGLRenderTarget(512,512,i),d=new t.ShaderMaterial({uniforms:{mapLeft:{value:o.texture},mapRight:{value:l.texture}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = vec2( uv.x, uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D mapLeft;","uniform sampler2D mapRight;","varying vec2 vUv;","void main() {","\tvec2 uv = vUv;","\tif ( ( mod( gl_FragCoord.y, 2.0 ) ) > 1.00 ) {","\t\tgl_FragColor = texture2D( mapLeft, uv );","\t} else {","\t\tgl_FragColor = texture2D( mapRight, uv );","\t}","}"].join("\n")}),s=new t.Mesh(new t.PlaneGeometry(2,2),d);a.add(s),this.setSize=function(t,r){e.setSize(t,r);const a=e.getPixelRatio();o.setSize(t*a,r*a),l.setSize(t*a,r*a)},this.render=function(t,i){t.updateMatrixWorld(),null===i.parent&&i.updateMatrixWorld(),n.update(i),e.setRenderTarget(o),e.clear(),e.render(t,n.cameraL),e.setRenderTarget(l),e.clear(),e.render(t,n.cameraR),e.setRenderTarget(null),e.render(a,r)}}},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE=e["THREE-STD"]||{},e.THREE)}();
