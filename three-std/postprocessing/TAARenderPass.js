!function(){var e,t;e=this,t=function(e,t,s){"use strict";class a extends s.SSAARenderPass{constructor(e,t,s,a){super(e,t,s,a),this.sampleLevel=0,this.accumulate=!1}render(e,s,a,i){if(!1===this.accumulate)return super.render(e,s,a,i),void(this.accumulateIndex=-1);const n=r[5];void 0===this.sampleRenderTarget&&(this.sampleRenderTarget=new t.WebGLRenderTarget(a.width,a.height,this.params),this.sampleRenderTarget.texture.name="TAARenderPass.sample"),void 0===this.holdRenderTarget&&(this.holdRenderTarget=new t.WebGLRenderTarget(a.width,a.height,this.params),this.holdRenderTarget.texture.name="TAARenderPass.hold"),-1===this.accumulateIndex&&(super.render(e,this.holdRenderTarget,a,i),this.accumulateIndex=0);const h=e.autoClear;e.autoClear=!1;const d=1/n.length;if(this.accumulateIndex>=0&&this.accumulateIndex<n.length){this.copyUniforms.opacity.value=d,this.copyUniforms.tDiffuse.value=s.texture;const t=Math.pow(2,this.sampleLevel);for(let r=0;r<t;r++){const t=n[this.accumulateIndex];if(this.camera.setViewOffset&&this.camera.setViewOffset(a.width,a.height,.0625*t[0],.0625*t[1],a.width,a.height),e.setRenderTarget(s),e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(this.sampleRenderTarget),0===this.accumulateIndex&&e.clear(),this.fsQuad.render(e),this.accumulateIndex++,this.accumulateIndex>=n.length)break}this.camera.clearViewOffset&&this.camera.clearViewOffset()}const c=this.accumulateIndex*d;c>0&&(this.copyUniforms.opacity.value=1,this.copyUniforms.tDiffuse.value=this.sampleRenderTarget.texture,e.setRenderTarget(s),e.clear(),this.fsQuad.render(e)),c<1&&(this.copyUniforms.opacity.value=1-c,this.copyUniforms.tDiffuse.value=this.holdRenderTarget.texture,e.setRenderTarget(s),0===c&&e.clear(),this.fsQuad.render(e)),e.autoClear=h}}const r=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];e.TAARenderPass=a,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three"),require("./SSAARenderPass.js")):"function"==typeof define&&define.amd?define(["exports","three","./SSAARenderPass"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE=e["THREE-STD"]||{},e.THREE,e.THREE)}();
