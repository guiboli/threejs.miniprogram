!function(){var e,t;e=this,t=function(e,t){"use strict";class r extends t.CompressedTextureLoader{constructor(e){super(e)}parse(e,r){const o=new Uint32Array(e,0,13),n={buffer:e,header:o,loadMipmaps:r};return 55727696===o[0]?function(e){const r=e.header;let o,n;const s=r[12],i=r[2],m=r[6],p=r[7],u=r[10],d=r[11];switch(i){case 0:o=2,n=t.RGB_PVRTC_2BPPV1_Format;break;case 1:o=2,n=t.RGBA_PVRTC_2BPPV1_Format;break;case 2:o=4,n=t.RGB_PVRTC_4BPPV1_Format;break;case 3:o=4,n=t.RGBA_PVRTC_4BPPV1_Format;break;default:console.error("THREE.PVRLoader: Unsupported PVR format:",i)}return e.dataPtr=52+s,e.bpp=o,e.format=n,e.width=p,e.height=m,e.numSurfaces=u,e.numMipmaps=d,e.isCubemap=6===u,a(e)}(n):559044176===o[11]?function(e){const r=e.header,o=r[0],n=r[1],s=r[2],i=r[3],m=r[4],p=r[10],u=r[12],d=24,P=255&m;let f,c;const R=p>0;return 25===P?(c=R?t.RGBA_PVRTC_4BPPV1_Format:t.RGB_PVRTC_4BPPV1_Format,f=4):P===d?(c=R?t.RGBA_PVRTC_2BPPV1_Format:t.RGB_PVRTC_2BPPV1_Format,f=2):console.error("THREE.PVRLoader: Unknown PVR format:",P),e.dataPtr=o,e.bpp=f,e.format=c,e.width=s,e.height=n,e.numSurfaces=u,e.numMipmaps=i+1,e.isCubemap=6===u,a(e)}(n):void console.error("THREE.PVRLoader: Unknown PVR format.")}}function a(e){const t={mipmaps:[],width:e.width,height:e.height,format:e.format,mipmapCount:e.numMipmaps,isCubemap:e.isCubemap},r=e.buffer;let a=e.dataPtr,o=0,n=0,s=0,i=0,m=0,p=0;const u=e.bpp,d=e.numSurfaces;2===u?(s=8,i=4):(s=4,i=4),n=s*i*u/8,t.mipmaps.length=e.numMipmaps*d;let P=0;for(;P<e.numMipmaps;){const u=e.width>>P,f=e.height>>P;m=u/s,p=f/i,m<2&&(m=2),p<2&&(p=2),o=m*p*n;for(let n=0;n<d;n++){const s={data:new Uint8Array(r,a,o),width:u,height:f};t.mipmaps[n*e.numMipmaps+P]=s,a+=o}P++}return t}e.PVRLoader=r,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE=e["THREE-STD"]||{},e.THREE)}();
