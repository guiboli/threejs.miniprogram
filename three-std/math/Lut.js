!function(){var t,s;t=this,s=function(t,s){"use strict";class i{constructor(t,s=32){this.lut=[],this.map=[],this.n=0,this.minV=0,this.maxV=1,this.setColorMap(t,s)}set(t){return!0===t.isLut&&this.copy(t),this}setMin(t){return this.minV=t,this}setMax(t){return this.maxV=t,this}setColorMap(t,i=32){this.map=e[t]||e.rainbow,this.n=i;const h=1/this.n;this.lut.length=0;for(let t=0;t<=1;t+=h)for(let i=0;i<this.map.length-1;i++)if(t>=this.map[i][0]&&t<this.map[i+1][0]){const e=this.map[i][0],h=this.map[i+1][0],n=new s.Color(this.map[i][1]),a=new s.Color(this.map[i+1][1]),o=n.lerp(a,(t-e)/(h-e));this.lut.push(o)}return this}copy(t){return this.lut=t.lut,this.map=t.map,this.n=t.n,this.minV=t.minV,this.maxV=t.maxV,this}getColor(t){t<=this.minV?t=this.minV:t>=this.maxV&&(t=this.maxV),t=(t-this.minV)/(this.maxV-this.minV);let s=Math.round(t*this.n);return s===this.n&&(s-=1),this.lut[s]}addColorMap(t,s){return e[t]=s,this}createCanvas(){const t=document.createElement("canvas");return t.width=1,t.height=this.n,this.updateCanvas(t),t}updateCanvas(t){const i=t.getContext("2d",{alpha:!1}),e=i.getImageData(0,0,1,this.n),h=e.data;let n=0;const a=1/this.n;for(let t=1;t>=0;t-=a)for(let i=this.map.length-1;i>=0;i--)if(t<this.map[i][0]&&t>=this.map[i-1][0]){const e=this.map[i-1][0],a=this.map[i][0],o=new s.Color(this.map[i-1][1]),r=new s.Color(this.map[i][1]),p=o.lerp(r,(t-e)/(a-e));h[4*n]=Math.round(255*p.r),h[4*n+1]=Math.round(255*p.g),h[4*n+2]=Math.round(255*p.b),h[4*n+3]=255,n+=1}return i.putImageData(e,0,0),t}}i.prototype.isLut=!0;const e={rainbow:[[0,255],[.2,65535],[.5,65280],[.8,16776960],[1,16711680]],cooltowarm:[[0,3952322],[.2,10206463],[.5,14474460],[.8,16163717],[1,11797542]],blackbody:[[0,0],[.2,7864320],[.5,15086080],[.8,16776960],[1,16777215]],grayscale:[[0,0],[.2,4210752],[.5,8355712],[.8,12566463],[1,16777215]]};t.ColorMapKeywords=e,t.Lut=i,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?s(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],s):s((t="undefined"!=typeof globalThis?globalThis:t||self).THREE=t["THREE-STD"]||{},t.THREE)}();
