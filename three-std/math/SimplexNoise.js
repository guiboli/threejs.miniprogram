!function(){var t,e;t=this,e=function(t){"use strict";t.SimplexNoise=class{constructor(t=Math){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(let e=0;e<256;e++)this.p[e]=Math.floor(256*t.random());this.perm=[];for(let t=0;t<512;t++)this.perm[t]=this.p[255&t];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}dot(t,e,s){return t[0]*e+t[1]*s}dot3(t,e,s,r){return t[0]*e+t[1]*s+t[2]*r}dot4(t,e,s,r,i){return t[0]*e+t[1]*s+t[2]*r+t[3]*i}noise(t,e){let s,r,i;const h=(t+e)*(.5*(Math.sqrt(3)-1)),o=Math.floor(t+h),l=Math.floor(e+h),d=(3-Math.sqrt(3))/6,p=(o+l)*d,a=t-(o-p),n=e-(l-p);let m,f;a>n?(m=1,f=0):(m=0,f=1);const u=a-m+d,M=n-f+d,c=a-1+2*d,g=n-1+2*d,x=255&o,y=255&l,T=this.perm[x+this.perm[y]]%12,b=this.perm[x+m+this.perm[y+f]]%12,q=this.perm[x+1+this.perm[y+1]]%12;let E=.5-a*a-n*n;E<0?s=0:(E*=E,s=E*E*this.dot(this.grad3[T],a,n));let j=.5-u*u-M*M;j<0?r=0:(j*=j,r=j*j*this.dot(this.grad3[b],u,M));let v=.5-c*c-g*g;return v<0?i=0:(v*=v,i=v*v*this.dot(this.grad3[q],c,g)),70*(s+r+i)}noise3d(t,e,s){let r,i,h,o;const l=(t+e+s)*(1/3),d=Math.floor(t+l),p=Math.floor(e+l),a=Math.floor(s+l),n=1/6,m=(d+p+a)*n,f=t-(d-m),u=e-(p-m),M=s-(a-m);let c,g,x,y,T,b;f>=u?u>=M?(c=1,g=0,x=0,y=1,T=1,b=0):f>=M?(c=1,g=0,x=0,y=1,T=0,b=1):(c=0,g=0,x=1,y=1,T=0,b=1):u<M?(c=0,g=0,x=1,y=0,T=1,b=1):f<M?(c=0,g=1,x=0,y=0,T=1,b=1):(c=0,g=1,x=0,y=1,T=1,b=0);const q=f-c+n,E=u-g+n,j=M-x+n,v=f-y+2*n,H=u-T+2*n,R=M-b+2*n,S=f-1+.5,_=u-1+.5,D=M-1+.5,N=255&d,O=255&p,P=255&a,k=this.perm[N+this.perm[O+this.perm[P]]]%12,w=this.perm[N+c+this.perm[O+g+this.perm[P+x]]]%12,z=this.perm[N+y+this.perm[O+T+this.perm[P+b]]]%12,A=this.perm[N+1+this.perm[O+1+this.perm[P+1]]]%12;let B=.6-f*f-u*u-M*M;B<0?r=0:(B*=B,r=B*B*this.dot3(this.grad3[k],f,u,M));let C=.6-q*q-E*E-j*j;C<0?i=0:(C*=C,i=C*C*this.dot3(this.grad3[w],q,E,j));let F=.6-v*v-H*H-R*R;F<0?h=0:(F*=F,h=F*F*this.dot3(this.grad3[z],v,H,R));let G=.6-S*S-_*_-D*D;return G<0?o=0:(G*=G,o=G*G*this.dot3(this.grad3[A],S,_,D)),32*(r+i+h+o)}noise4d(t,e,s,r){const i=this.grad4,h=this.simplex,o=this.perm,l=(Math.sqrt(5)-1)/4,d=(5-Math.sqrt(5))/20;let p,a,n,m,f;const u=(t+e+s+r)*l,M=Math.floor(t+u),c=Math.floor(e+u),g=Math.floor(s+u),x=Math.floor(r+u),y=(M+c+g+x)*d,T=t-(M-y),b=e-(c-y),q=s-(g-y),E=r-(x-y),j=(T>b?32:0)+(T>q?16:0)+(b>q?8:0)+(T>E?4:0)+(b>E?2:0)+(q>E?1:0),v=h[j][0]>=3?1:0,H=h[j][1]>=3?1:0,R=h[j][2]>=3?1:0,S=h[j][3]>=3?1:0,_=h[j][0]>=2?1:0,D=h[j][1]>=2?1:0,N=h[j][2]>=2?1:0,O=h[j][3]>=2?1:0,P=h[j][0]>=1?1:0,k=h[j][1]>=1?1:0,w=h[j][2]>=1?1:0,z=h[j][3]>=1?1:0,A=T-v+d,B=b-H+d,C=q-R+d,F=E-S+d,G=T-_+2*d,I=b-D+2*d,J=q-N+2*d,K=E-O+2*d,L=T-P+3*d,Q=b-k+3*d,U=q-w+3*d,V=E-z+3*d,W=T-1+4*d,X=b-1+4*d,Y=q-1+4*d,Z=E-1+4*d,$=255&M,tt=255&c,et=255&g,st=255&x,rt=o[$+o[tt+o[et+o[st]]]]%32,it=o[$+v+o[tt+H+o[et+R+o[st+S]]]]%32,ht=o[$+_+o[tt+D+o[et+N+o[st+O]]]]%32,ot=o[$+P+o[tt+k+o[et+w+o[st+z]]]]%32,lt=o[$+1+o[tt+1+o[et+1+o[st+1]]]]%32;let dt=.6-T*T-b*b-q*q-E*E;dt<0?p=0:(dt*=dt,p=dt*dt*this.dot4(i[rt],T,b,q,E));let pt=.6-A*A-B*B-C*C-F*F;pt<0?a=0:(pt*=pt,a=pt*pt*this.dot4(i[it],A,B,C,F));let at=.6-G*G-I*I-J*J-K*K;at<0?n=0:(at*=at,n=at*at*this.dot4(i[ht],G,I,J,K));let nt=.6-L*L-Q*Q-U*U-V*V;nt<0?m=0:(nt*=nt,m=nt*nt*this.dot4(i[ot],L,Q,U,V));let mt=.6-W*W-X*X-Y*Y-Z*Z;return mt<0?f=0:(mt*=mt,f=mt*mt*this.dot4(i[lt],W,X,Y,Z)),27*(p+a+n+m+f)}},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).THREE=t["THREE-STD"]||{})}();
