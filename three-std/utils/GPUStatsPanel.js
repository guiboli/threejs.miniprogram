!function(){var e,t;e=this,t=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(t);class s extends i.default.Panel{constructor(e,t="GPU MS"){super(t,"#f90","#210");let n=!0,i=e.getExtension("EXT_disjoint_timer_query_webgl2");null===i&&(n=!1,i=e.getExtension("EXT_disjoint_timer_query"),null===i&&console.warn("GPUStatsPanel: disjoint_time_query extension not available.")),this.context=e,this.extension=i,this.maxTime=30,this.activeQueries=0,this.startQuery=function(){const e=this.context,t=this.extension;if(null===t)return;let i;n?(i=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,i)):(i=t.createQueryEXT(),t.beginQueryEXT(t.TIME_ELAPSED_EXT,i)),this.activeQueries++;const s=()=>{let r,u,o;n?(r=e.getQueryParameter(i,e.QUERY_RESULT_AVAILABLE),u=e.getParameter(t.GPU_DISJOINT_EXT),o=e.getQueryParameter(i,e.QUERY_RESULT)):(r=t.getQueryObjectEXT(i,t.QUERY_RESULT_AVAILABLE_EXT),u=e.getParameter(t.GPU_DISJOINT_EXT),o=t.getQueryObjectEXT(i,t.QUERY_RESULT_EXT));const E=1e-6*o;r?(u||this.update(E,this.maxTime),this.activeQueries--):requestAnimationFrame(s)};requestAnimationFrame(s)},this.endQuery=function(){const e=this.extension,t=this.context;null!==e&&(n?t.endQuery(e.TIME_ELAPSED_EXT):e.endQueryEXT(e.TIME_ELAPSED_EXT))}}}e.GPUStatsPanel=s,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("../libs/stats.module.js")):"function"==typeof define&&define.amd?define(["exports","../libs/stats.module"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE=e["THREE-STD"]||{},e.THREE)}();
