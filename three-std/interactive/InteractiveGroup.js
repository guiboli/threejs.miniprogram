!function(){var e,t;e=this,t=function(e,t){"use strict";const n=new t.Vector2,s={type:"",data:n};class o extends t.Group{constructor(e,o){super();const i=this,r=new t.Raycaster,d=new t.Matrix4,c=e.domElement;function a(e){e.stopPropagation(),n.x=e.clientX/c.clientWidth*2-1,n.y=-e.clientY/c.clientHeight*2+1,r.setFromCamera(n,o);const t=r.intersectObjects(i.children,!1);if(t.length>0){const n=t[0],o=n.object,i=n.uv;s.type=e.type,s.data.set(i.x,1-i.y),o.dispatchEvent(s)}}c.addEventListener("pointerdown",a),c.addEventListener("pointerup",a),c.addEventListener("pointermove",a),c.addEventListener("mousedown",a),c.addEventListener("mouseup",a),c.addEventListener("mousemove",a),c.addEventListener("click",a);const l={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"};function p(e){const t=e.target;d.identity().extractRotation(t.matrixWorld),r.ray.origin.setFromMatrixPosition(t.matrixWorld),r.ray.direction.set(0,0,-1).applyMatrix4(d);const n=r.intersectObjects(i.children,!1);if(n.length>0){const t=n[0],o=t.object,i=t.uv;s.type=l[e.type],s.data.set(i.x,1-i.y),o.dispatchEvent(s)}}const v=e.xr.getController(0);v.addEventListener("move",p),v.addEventListener("select",p),v.addEventListener("selectstart",p),v.addEventListener("selectend",p);const u=e.xr.getController(1);u.addEventListener("move",p),u.addEventListener("select",p),u.addEventListener("selectstart",p),u.addEventListener("selectend",p)}}e.InteractiveGroup=o,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE=e["THREE-STD"]||{},e.THREE)}();
