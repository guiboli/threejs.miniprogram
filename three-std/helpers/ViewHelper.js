!function(){var e,t;e=this,t=function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=n(t);const o=new a.Vector4;class i extends a.Object3D{constructor(e,t){super(),this.animating=!1,this.controls=null;const n=new a.Color("#ff3653"),i=new a.Color("#8adb00"),r=new a.Color("#2c8fff"),s=[],c=new a.Raycaster,l=new a.Vector2,p=new a.Object3D,u=new a.OrthographicCamera(-2,2,2,-2,0,4);u.position.set(0,0,2);const h=new a.BoxGeometry(.8,.05,.05).translate(.4,0,0),d=new a.Mesh(h,I(n)),f=new a.Mesh(h,I(i)),y=new a.Mesh(h,I(r));f.rotation.z=Math.PI/2,y.rotation.y=-Math.PI/2,this.add(d),this.add(y),this.add(f);const w=new a.Sprite(V(n,"X"));w.userData.type="posX";const m=new a.Sprite(V(i,"Y"));m.userData.type="posY";const g=new a.Sprite(V(r,"Z"));g.userData.type="posZ";const b=new a.Sprite(V(n));b.userData.type="negX";const E=new a.Sprite(V(i));E.userData.type="negY";const M=new a.Sprite(V(r));M.userData.type="negZ",w.position.x=1,m.position.y=1,g.position.z=1,b.position.x=-1,b.scale.setScalar(.8),E.position.y=-1,E.scale.setScalar(.8),M.position.z=-1,M.scale.setScalar(.8),this.add(w),this.add(m),this.add(g),this.add(b),this.add(E),this.add(M),s.push(w),s.push(m),s.push(g),s.push(b),s.push(E),s.push(M);const x=new a.Vector3,S=128,P=2*Math.PI;this.render=function(n){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),x.set(0,0,1),x.applyQuaternion(e.quaternion),x.x>=0?(w.material.opacity=1,b.material.opacity=.5):(w.material.opacity=.5,b.material.opacity=1),x.y>=0?(m.material.opacity=1,E.material.opacity=.5):(m.material.opacity=.5,E.material.opacity=1),x.z>=0?(g.material.opacity=1,M.material.opacity=.5):(g.material.opacity=.5,M.material.opacity=1);const a=t.offsetWidth-S;n.clearDepth(),n.getViewport(o),n.setViewport(a,0,S,S),n.render(this,u),n.setViewport(o.x,o.y,o.z,o.w)};const D=new a.Vector3,T=new a.Quaternion,j=new a.Quaternion,O=new a.Quaternion;let k=0;function I(e){return new a.MeshBasicMaterial({color:e,toneMapped:!1})}function V(e,t=null){const n=document.createElement("canvas");n.width=64,n.height=64;const o=n.getContext("2d");o.beginPath(),o.arc(32,32,16,0,2*Math.PI),o.closePath(),o.fillStyle=e.getStyle(),o.fill(),null!==t&&(o.font="24px Arial",o.textAlign="center",o.fillStyle="#000000",o.fillText(t,32,41));const i=new a.CanvasTexture(n);return new a.SpriteMaterial({map:i,toneMapped:!1})}this.handleClick=function(n){if(!0===this.animating)return!1;const o=t.getBoundingClientRect(),i=o.left+(container.dom.offsetWidth-S),r=o.top+(container.dom.offsetHeight-S);l.x=(n.clientX-i)/(o.width-i)*2-1,l.y=-(n.clientY-r)/(o.bottom-r)*2+1,c.setFromCamera(l,u);const h=c.intersectObjects(s);return h.length>0&&(function(t,n){switch(t.userData.type){case"posX":D.set(1,0,0),T.setFromEuler(new a.Euler(0,.5*Math.PI,0));break;case"posY":D.set(0,1,0),T.setFromEuler(new a.Euler(.5*-Math.PI,0,0));break;case"posZ":D.set(0,0,1),T.setFromEuler(new a.Euler);break;case"negX":D.set(-1,0,0),T.setFromEuler(new a.Euler(0,.5*-Math.PI,0));break;case"negY":D.set(0,-1,0),T.setFromEuler(new a.Euler(.5*Math.PI,0,0));break;case"negZ":D.set(0,0,-1),T.setFromEuler(new a.Euler(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}k=e.position.distanceTo(n),D.multiplyScalar(k).add(n),p.position.copy(n),p.lookAt(e.position),j.copy(p.quaternion),p.lookAt(D),O.copy(p.quaternion)}(h[0].object,this.controls.center),this.animating=!0,!0)},this.update=function(t){const n=t*P,a=this.controls.center;j.rotateTowards(O,n),e.position.set(0,0,1).applyQuaternion(j).multiplyScalar(k).add(a),e.quaternion.rotateTowards(T,n),0===j.angleTo(O)&&(this.animating=!1)}}}i.prototype.isViewHelper=!0,e.ViewHelper=i,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE=e["THREE-STD"]||{},e.THREE)}();
